# Инструкция по публикации релиза на GitHub

## Подготовка к релизу

### 1. Обновление версии

Перед созданием релиза обновите версию в файле `version.py`:

```python
__version__ = "1.0.1"  # Укажите новую версию
```

### 2. Сборка приложения

Выполните сборку приложения и инсталлятора:

```powershell
# Сборка исполняемого файла
.\build.bat

# Сборка инсталлятора (требуется Inno Setup)
.\build-installer.bat
```

После сборки проверьте наличие файлов:
- `dist\ChatList-{версия}.exe` - исполняемый файл
- `installer\ChatList-Setup-{версия}.exe` - инсталлятор

### 3. Тестирование

Перед публикацией обязательно протестируйте:
- ✅ Установку через инсталлятор
- ✅ Запуск приложения
- ✅ Основной функционал
- ✅ Работу с API

## Создание GitHub Release

### Шаг 1: Создание тега

Создайте тег для версии:

```powershell
# Создание аннотированного тега
git tag -a v1.0.1 -m "Release version 1.0.1"

# Отправка тега на GitHub
git push origin v1.0.1
```

Или через GitHub веб-интерфейс:
1. Перейдите в раздел **Releases**
2. Нажмите **Create a new release**
3. Выберите или создайте новый тег (например, `v1.0.1`)

### Шаг 2: Заполнение информации о релизе

Используйте шаблон из файла `.github/release_template.md` или заполните вручную:

**Заголовок:** `ChatList v1.0.1` (или название релиза)

**Описание:**
- Используйте шаблон из `.github/release_template.md`
- Укажите основные изменения
- Добавьте список исправлений (если есть)
- Укажите известные проблемы (если есть)

### Шаг 3: Загрузка файлов

Загрузите следующие файлы в раздел **Attach binaries**:

1. **Инсталлятор:** `installer\ChatList-Setup-{версия}.exe`
   - Это основной файл для пользователей Windows
   - Рекомендуется пометить как "Latest release"

2. **Исполняемый файл (опционально):** `dist\ChatList-{версия}.exe`
   - Для пользователей, которые не хотят устанавливать через инсталлятор

3. **Исходный код (опционально):** `Source code (zip)` и `Source code (tar.gz)`
   - GitHub автоматически создает эти архивы

### Шаг 4: Публикация

1. Убедитесь, что все файлы загружены
2. Проверьте описание релиза
3. Нажмите **Publish release**

## Настройка GitHub Pages

### Шаг 1: Включение GitHub Pages

1. Перейдите в **Settings** → **Pages**
2. В разделе **Source** выберите:
   - **Branch:** `main` (или `gh-pages`)
   - **Folder:** `/docs` или `/root`
3. Нажмите **Save**

### Шаг 2: Размещение HTML-лендинга

1. Скопируйте файл `docs/index.html` в корень репозитория или в папку `docs/`
2. Если используете папку `docs/`, убедитесь, что в настройках Pages указан путь `/docs`
3. GitHub автоматически опубликует сайт по адресу: `https://{username}.github.io/ChatList/`

### Шаг 3: Обновление лендинга

При каждом обновлении:
1. Обновите версию в `docs/index.html`
2. Обновите ссылки на последний релиз
3. Закоммитьте изменения:
   ```powershell
   git add docs/index.html
   git commit -m "Обновление лендинга для версии 1.0.1"
   git push
   ```

## Автоматизация (опционально)

Для автоматизации процесса можно использовать GitHub Actions (см. `.github/workflows/release.yml`).

## Чек-лист перед релизом

- [ ] Версия обновлена в `version.py`
- [ ] Приложение собрано и протестировано
- [ ] Инсталлятор создан и протестирован
- [ ] Тег создан и отправлен на GitHub
- [ ] Release notes подготовлены
- [ ] Файлы загружены в Release
- [ ] Лендинг обновлен (если используется)
- [ ] Release опубликован

## Полезные ссылки

- [GitHub Releases Documentation](https://docs.github.com/en/repositories/releasing-projects-on-github)
- [GitHub Pages Documentation](https://docs.github.com/en/pages)
- [Semantic Versioning](https://semver.org/)


